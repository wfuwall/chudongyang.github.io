(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{692:function(t,s,a){"use strict";a.r(s);var n=a(49),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"æµè§ˆå™¨å’Œnodeäº‹ä»¶ç¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨å’Œnodeäº‹ä»¶ç¯"}},[t._v("#")]),t._v(" æµè§ˆå™¨å’ŒNodeäº‹ä»¶ç¯")]),t._v(" "),a("img",{attrs:{src:"/eventloop.jpg",height:"410",width:"auto"}}),t._v(" "),a("p",[t._v("è¿›å…¥æ­£æ–‡ä¹‹å‰ï¼Œé¦–å…ˆè¦æ„Ÿè°¢å„ä½å¤§ä½¬å¯¹æœ¬äººç¬¬ä¸€ç¯‡æ˜é‡‘æ–‡ç« ã€Š"),a("a",{attrs:{href:"https://juejin.im/post/5b5b52dbe51d4534c34a4a6e",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES6ç‰ˆPromiseå®ç°ï¼Œç»™ä½ ä¸ä¸€æ ·çš„ä½“éªŒ"),a("OutboundLink")],1),t._v("ã€‹çš„è‚¯å®šåŠæŒ‡æ­£ï¼Œå¯èƒ½å†™çš„ä¸å°½äººæ„ï¼Œä½†æ˜¯ä½ ä»¬çš„ç‚¹èµä¼šæ˜¯æˆ‘ç»§ç»­åˆ†äº«çš„åŠ¨åŠ›ä¹‹ä¸€ï¼Œåªè¦åŠªåŠ›è¿‡ï¼Œç»“æœå°±ä¸è¦å¤ªåœ¨æ„ï¼Œå› ä¸ºåŠªåŠ›ä¹‹åçš„ç»“æœä¼šè®©ä½ æ»¡æ„ï¼ä¸è¯¸ä½å…±å‹‰ï¼")]),t._v(" "),a("p",[t._v("å¥½äº†ï¼Œè¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬è¿›å…¥ä»Šå¤©çš„è¯é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬æ¥è°ˆä¸€è°ˆäº‹ä»¶ç¯åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ"),a("code",[t._v("javaScript")]),t._v("çš„äº‹ä»¶ç¯å’Œ"),a("code",[t._v("Node")]),t._v("çš„äº‹ä»¶ç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæœ‰æ²¡æœ‰ä¸€ç§æ— ä»ä¸‹æ‰‹çš„æ„Ÿè§‰ï¼Œåˆ«æ‰æ€¥ï¼Œåªè¦ä½ ä»”ç»†é˜…è¯»æœ¬ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡èƒ½å¤Ÿè§£å¼€å¿ƒä¸­çš„ç–‘æƒ‘ã€‚\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/7/31/164f0edfde32d253?w=100&h=80&f=gif&s=35590",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"å…ˆäº†è§£å‡ ç»„å¸¸è§æ¦‚å¿µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…ˆäº†è§£å‡ ç»„å¸¸è§æ¦‚å¿µ"}},[t._v("#")]),t._v(" å…ˆäº†è§£å‡ ç»„å¸¸è§æ¦‚å¿µ")]),t._v(" "),a("p",[t._v("ä¿—è¯è¯´ï¼Œå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨è¿›å…¥æµè§ˆå™¨äº‹ä»¶ç¯å’ŒNodeäº‹ä»¶ç¯æƒ…èŠ‚ä¹‹å‰å‘¢ï¼Œæˆ‘ä»¬æœ‰å¿…è¦äº†è§£ä»¥ä¸‹å‡ ç»„å¸¸è§çš„æ¦‚å¿µã€‚")]),t._v(" "),a("ol",[a("li",[t._v("heapï¼ˆå †ï¼‰å’Œ stackï¼ˆæ ˆï¼‰\nå †æ ˆæ˜¯åœ¨è®¡ç®—æœºé¢†åŸŸä¸å¯å¿½è§†çš„æ¦‚å¿µï¼Œå¦‚æœæƒ³è¦è¯¦ç»†äº†è§£ï¼Œè¯·ç§»æ­¥ã€Š"),a("a",{attrs:{href:"https://baike.baidu.com/item/%E5%A0%86%E6%A0%88/1682032",target:"_blank",rel:"noopener noreferrer"}},[t._v("å †æ ˆ_ç™¾åº¦ç™¾ç§‘"),a("OutboundLink")],1),t._v("ã€‹ã€‚åœ¨javaScriptä¸­ï¼Œæ ˆä¸­å­˜çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šè‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´ï¼Œè‡ªåŠ¨é‡Šæ”¾ï¼›å †ä¸­å­˜çš„æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ˜¯åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¸å®šä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("heap")]),t._v("å †ï¼šä¹Ÿå¯ä»¥å«å †å†…å­˜ï¼›æ˜¯ä¸€ç§é˜Ÿåˆ—ä¼˜å…ˆï¼Œå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼›")]),t._v(" "),a("li",[a("code",[t._v("stack")]),t._v("æ ˆï¼šåˆå'å †æ ˆ',ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸è¿‡å®ƒæ˜¯æŒ‰ç…§å…ˆè¿›åå‡ºåŸåˆ™å­˜å‚¨æ•°æ®çš„ã€‚\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/7/31/164f0a4b342417fa?w=1049&h=443&f=png&s=29234",alt:""}})])]),t._v(" "),a("blockquote",[a("p",[t._v("å˜»å˜»ğŸ˜ï¼Œè‡ªå·±èŠ±äº†åŠå¤©æ—¶é—´ï¼ˆå¤¸å¼ ï¼‰ç”»å¾—ï¼Œè‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½ã€‚")])]),t._v(" "),a("p",[t._v("æ—¢ç„¶æˆ‘ä»¬å¤§è‡´ç†è§£äº†å †å’Œæ ˆçš„å«ä¹‰ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€é“é¢è¯•é¢˜ï¼Œå¦‚ä½•ç”¨jsä»£ç å®ç°é˜Ÿåˆ—å’Œæ ˆçš„åŠŸèƒ½å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•å•¦ï¼Œå°±æ˜¯æ•°ç»„æœ€åŸºæœ¬å¸¸ç”¨çš„å¢åˆ æ–¹æ³•ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å®ç°é˜Ÿåˆ—çš„æ–¹æ³•ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("å®ç°æ ˆçš„æ–¹æ³•ï¼ˆå…ˆè¿›åå‡ºï¼‰")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\narr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("çº¿ç¨‹å’Œè¿›ç¨‹\né¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“è¿›ç¨‹æ¯”çº¿ç¨‹è¦å¤§ã€‚ä¸€ä¸ªç¨‹åºè‡³å°‘è¦æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘è¦æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚å°±æ‹¿æˆ‘ä»¬ç»å¸¸ç”¨çš„æµè§ˆå™¨ä¸ºä¾‹å§ï¼Œä¸ºäº†æ›´ç›´è§‚ä¸€äº›ï¼Œå…ˆçœ‹ä¸‹è¿™å¼ å›¾ç‰‡ï¼š")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/2/164f6492a3e468b6?w=532&h=408&f=png&s=23809",alt:""}}),t._v("\nç”±æ­¤å¯è§ï¼Œæµè§ˆå™¨å°±æ˜¯å¤šè¿›ç¨‹çš„ï¼Œå½“ä¸€ä¸ªç½‘é¡µå´©æºƒæ—¶ä¸ä¼šå½±å“å…¶ä»–ç½‘é¡µçš„æ­£å¸¸è¿è¡Œã€‚æˆ‘ä»¬ä¸»è¦äº†è§£ä¸‹ä¸€ä¸‹å‡ ä¸ªæ–¹é¢ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ¸²æŸ“å¼•æ“ï¼šæ¸²æŸ“å¼•æ“å†…éƒ¨æ˜¯å¤šçº¿ç¨‹çš„,å†…éƒ¨åŒ…å«äº†ä¸¤ä¸ªæœ€é‡è¦çš„çº¿ç¨‹uiçº¿ç¨‹å’Œjsçº¿ç¨‹ã€‚è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„uiçº¿ç¨‹å’Œjsçº¿ç¨‹æ˜¯äº’æ–¥çš„,å› ä¸ºJSè¿è¡Œç»“æœä¼šå½±å“åˆ°uiçº¿ç¨‹çš„ç»“æœã€‚uiæ›´æ–°ä¼šè¢«ä¿å­˜åœ¨é˜Ÿåˆ—ä¸­ç­‰åˆ°jsçº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("jså•çº¿ç¨‹ï¼š"),a("code",[t._v("JavaScript")]),t._v("æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å•çº¿ç¨‹çš„ï¼Œå…¶å®åº”è¯¥è¯´å…¶ä¸»çº¿ç¨‹æ˜¯å•çº¿ç¨‹çš„ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿä½ æƒ³ä¸€ä¸‹ï¼Œå¦‚æœjsæ˜¯å¤šçº¿ç¨‹çš„ï¼Œæˆ‘ä»¬åœ¨é¡µé¢ä¸­è¿™ä¸ªçº¿ç¨‹è¦åˆ äº†é‚£ä¸ªå…ƒç´ ï¼ˆä¸é¡ºçœ¼ï¼‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å‘¢æˆ‘è¦ä¿ç•™é‚£ä¸ªå…ƒç´ ï¼ˆæˆ‘ç½©ç€çš„ï¼‰ï¼Œè¿™æ ·å²‚ä¸æ˜¯å°±ä¹±å¥—äº†ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ"),a("code",[t._v("JavaScript")]),t._v("æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå¼‚æ­¥ä»£ç å¹¶ä¸ä¼šé˜»å¡ä»£ç çš„è¿è¡Œã€‚")]),t._v(" "),a("li",[t._v("å…¶ä»–çº¿ç¨‹ï¼š\n"),a("ul",[a("li",[t._v("æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹(ç”¨æ¥æ§åˆ¶äº‹ä»¶å¾ªç¯,å­˜æ”¾"),a("code",[t._v("setTimeout")]),t._v("ã€æµè§ˆå™¨äº‹ä»¶ã€"),a("code",[t._v("ajax")]),t._v("çš„å›è°ƒå‡½æ•°)")]),t._v(" "),a("li",[t._v("å®šæ—¶è§¦å‘å™¨çº¿ç¨‹("),a("code",[t._v("setTimeout")]),t._v("å®šæ—¶å™¨æ‰€åœ¨çº¿ç¨‹)")]),t._v(" "),a("li",[t._v("å¼‚æ­¥HTTPè¯·æ±‚çº¿ç¨‹("),a("code",[t._v("ajax")]),t._v("è¯·æ±‚çº¿ç¨‹)")])])])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡\nå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡å¯ä»¥è¯´éƒ½æ˜¯å¼‚æ­¥ä»»åŠ¡ã€‚å¦‚æœäº†è§£"),a("code",[t._v("vue")]),t._v("æºç çš„åŒå­¦ï¼Œåº”è¯¥çŸ¥é“å®ä»»åŠ¡"),a("code",[t._v("macrotask")]),t._v("å’Œå¾®ä»»åŠ¡"),a("code",[t._v("microtask")]),t._v("è¿™ä¸¤ä¸ªæ¦‚å¿µï¼Œä»–ä»¬çš„æ‰§è¡Œæ—¶æœºæ˜¯ä¸ä¸€æ ·çš„ã€‚"),a("code",[t._v("vue")]),t._v("çš„"),a("code",[t._v("$nextTick")]),t._v("çš„æºç å°±æ˜¯é€šè¿‡å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡å®ç°çš„ã€‚(å¯ä»¥å»"),a("a",{attrs:{href:"https://github.com/vuejs/vue/tree/dev/src/core/util",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue"),a("OutboundLink")],1),t._v("çš„githubäº†è§£ä¸€ä¸‹å…¶å®ç°åŸç†)ã€‚")])]),t._v(" "),a("ul",[a("li",[t._v("å¸¸è§çš„å®ä»»åŠ¡"),a("code",[t._v("macrotask")]),t._v("æœ‰ï¼š"),a("code",[t._v("setTimeout")]),t._v("ã€"),a("code",[t._v("setInterval")]),t._v("ã€ "),a("code",[t._v("setImmediate")]),t._v("(ieæµè§ˆå™¨æ‰æ”¯æŒ,nodeä¸­è‡ªå·±ä¹Ÿå®ç°äº†)ã€"),a("code",[t._v("MessageChannel")])]),t._v(" "),a("li",[t._v("å¸¸è§çš„å¾®ä»»åŠ¡"),a("code",[t._v("microtask")]),t._v("æœ‰ï¼š"),a("code",[t._v("promise.then()")]),t._v("ã€"),a("code",[t._v("process.nextTick")]),t._v("(nodeçš„)")])]),t._v(" "),a("h3",{attrs:{id:"javascriptçš„äº‹ä»¶ç¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascriptçš„äº‹ä»¶ç¯"}},[t._v("#")]),t._v(" javaScriptçš„äº‹ä»¶ç¯")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨ä¸­ï¼Œäº‹ä»¶ç¯çš„è¿è¡Œæœºåˆ¶æ˜¯ï¼Œå…ˆä¼šæ‰§è¡Œæ ˆä¸­çš„å†…å®¹ï¼Œæ ˆä¸­çš„å†…å®¹æ‰§è¡Œåæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ¸…ç©ºåå†æ‰§è¡Œå®ä»»åŠ¡ï¼Œå…ˆå–å‡ºä¸€ä¸ªå®ä»»åŠ¡ï¼Œå†å»æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å–å®ä»»åŠ¡æ¸…å¾®ä»»åŠ¡è¿™æ ·ä¸åœçš„å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹é¢è¿™å¼ å›¾ç†è§£ä¸€ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/2/164f63da02998416?w=638&h=359&f=jpeg&s=49329",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒåŒæ­¥ä»»åŠ¡ä¼šè¿›å…¥æ‰§è¡Œæ ˆï¼Œè€Œå¼‚æ­¥ä»»åŠ¡ä¼šè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆcallback queueï¼‰ç­‰å¾…æ‰§è¡Œã€‚ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„å†…å®¹æ‰§è¡Œå®Œæ¯•ï¼Œå°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡æ”¾å…¥æ‰§è¡Œæ ˆå¼€å§‹æ‰§è¡Œã€‚ï¼ˆå›¾ä¸­ç¼ºå°‘å¾®ä»»åŠ¡ï¼‰")])]),t._v(" "),a("p",[t._v("é‚£ä¹ˆï¼Œæˆ‘ä»¬æ¥é“é¢è¯•é¢˜æ£€éªŒä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä¸‹é¢çš„ä»£ç ï¼Œè¾“å‡ºçš„ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'then3'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'then1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'then2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºç»“æœï¼š2 then1 then2 setTimeout1  then3  setTimeout2")]),t._v("\n")])])]),a("blockquote",[a("ol",[a("li",[t._v("å…ˆæ‰§è¡Œæ ˆä¸­çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯åŒæ­¥ä»£ç ï¼Œæ‰€ä»¥2è¢«è¾“å‡ºå‡ºæ¥ï¼›")]),t._v(" "),a("li",[t._v("ç„¶åæ¸…ç©ºå¾®ä»»åŠ¡ï¼Œæ‰€ä»¥ä¾æ¬¡è¾“å‡ºçš„æ˜¯ "),a("code",[t._v("then1")]),t._v(" "),a("code",[t._v("then2")]),t._v("ï¼›")]),t._v(" "),a("li",[t._v("å› ä»£ç æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œçš„ï¼Œæ‰€ä»¥1så "),a("code",[t._v("setTimeout1")]),t._v(" è¢«æ‰§è¡Œè¾“å‡ºï¼›")]),t._v(" "),a("li",[t._v("æ¥ç€å†æ¬¡æ¸…ç©ºå¾®ä»»åŠ¡ï¼Œ"),a("code",[t._v("then3")]),t._v("è¢«è¾“å‡ºï¼›")]),t._v(" "),a("li",[t._v("æœ€åæ‰§è¡Œè¾“å‡º"),a("code",[t._v("setTimeout2")])])])]),t._v(" "),a("h3",{attrs:{id:"nodeçš„äº‹ä»¶ç¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodeçš„äº‹ä»¶ç¯"}},[t._v("#")]),t._v(" Nodeçš„äº‹ä»¶ç¯")]),t._v(" "),a("p",[a("code",[t._v("Node")]),t._v("æ˜¯åŸºäºV8å¼•æ“çš„"),a("code",[t._v("JavaScript")]),t._v("è¿è¡Œç¯å¢ƒï¼Œåœ¨å¤„ç†é«˜å¹¶å‘ã€I/Oå¯†é›†(æ–‡ä»¶æ“ä½œã€ç½‘ç»œæ“ä½œã€æ•°æ®åº“æ“ä½œç­‰)åœºæ™¯æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ã€‚Nodeçš„äº‹ä»¶ç¯æœºåˆ¶ä¸æµè§ˆå™¨çš„æ˜¯ä¸å¤ªä¸€æ ·ã€‚\nåœ¨Nodeè¿è¡Œç¯å¢ƒä¸­ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("æˆ‘ä»¬å†™çš„jsä»£ç ä¼šäº¤ç”±V8å¼•æ“è¿›è¡Œå¤„ç†")]),t._v(" "),a("li",[t._v("ä»£ç ä¸­å¯èƒ½ä¼šè°ƒç”¨NodeApiï¼Œnodeä¼šäº¤ç”±"),a("code",[t._v("libuv")]),t._v("å¤„ç†")]),t._v(" "),a("li",[a("code",[t._v("libuv")]),t._v("é€šè¿‡é˜»å¡I/Oå’Œå¤šçº¿ç¨‹å®ç°å¼‚æ­¥I/O")]),t._v(" "),a("li",[t._v("ç„¶åé€šè¿‡äº‹ä»¶é©±åŠ¨çš„æ–¹å¼ï¼Œå°†ç»“æœæ”¾åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œæœ€ç»ˆäº¤ç»™æˆ‘ä»¬çš„åº”ç”¨ã€‚")])]),t._v(" "),a("p",[t._v("å…¶å®æœ¬è´¨æ˜¯åœ¨"),a("code",[t._v("libuv")]),t._v("(ä¸€ä¸ªé«˜æ€§èƒ½çš„ï¼Œäº‹ä»¶é©±åŠ¨çš„I/Oåº“)å†…éƒ¨æœ‰è¿™æ ·ä¸€ä¸ªäº‹ä»¶ç¯æœºåˆ¶ã€‚åœ¨Nodeå¯åŠ¨æ—¶ä¼šåˆå§‹åŒ–äº‹ä»¶ç¯ï¼Œè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šå›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/4/165058b12d81586b?w=614&h=673&f=png&s=55350",alt:""}}),t._v("\nå›¾ä¸­æ˜¾ç¤ºçš„æ¯ä¸ªé˜¶æ®µéƒ½å¯¹åº”ä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œå½“"),a("code",[t._v("event loop")]),t._v("æ‰§è¡Œåˆ°æŸä¸ªé˜¶æ®µæ—¶ä¼šå°†å½“å‰é˜¶æ®µå¯¹åº”çš„é˜Ÿåˆ—ä¾æ¬¡æ‰§è¡Œã€‚å½“é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•æˆ–è€…æ‰§è¡Œæ•°é‡è¶…è¿‡ä¸Šé™æ—¶ï¼Œæ‰ä¼šè½¬å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚nodeä¸­çš„å¾®ä»»åŠ¡åœ¨åˆ‡æ¢é˜Ÿåˆ—æ—¶æ‰§è¡Œã€‚")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("timers")]),t._v("è®¡æ—¶å™¨ï¼šæ‰§è¡Œ"),a("code",[t._v("setTimeout")]),t._v("ã€"),a("code",[t._v("setInterval")]),t._v("çš„å›è°ƒå‡½æ•°ï¼›")]),t._v(" "),a("li",[a("code",[t._v("I/O callbacks")]),t._v("ï¼šæ‰§è¡Œ"),a("code",[t._v("I/O callback")]),t._v("è¢«å»¶è¿Ÿåˆ°ä¸‹ä¸€é˜¶æ®µæ‰§è¡Œï¼›")]),t._v(" "),a("li",[a("code",[t._v("idle, prepare")]),t._v("ï¼šé˜Ÿåˆ—çš„ç§»åŠ¨ï¼Œä»…å†…éƒ¨ä½¿ç”¨")]),t._v(" "),a("li",[a("code",[t._v("poll")]),t._v("è½®è¯¢ï¼šæ£€ç´¢æ–°çš„I/Oäº‹ä»¶;æ‰§è¡ŒI/Oç›¸å…³çš„å›è°ƒ")]),t._v(" "),a("li",[a("code",[t._v("check")]),t._v("ï¼šæ‰§è¡Œ"),a("code",[t._v("setImmediate")]),t._v("å›è°ƒ")]),t._v(" "),a("li",[a("code",[t._v("close callbacks")]),t._v("ï¼šæ‰§è¡Œ"),a("code",[t._v("close")]),t._v("äº‹ä»¶çš„"),a("code",[t._v("callback")]),t._v("ï¼Œä¾‹å¦‚"),a("code",[t._v('socket.on("close",func)')])])]),t._v(" "),a("p",[t._v("å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€é“ç®€å•çš„æµ‹è¯•é¢˜ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setImmediate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("è¿™é“é¢˜ä¸­å¦‚æœä½ åœ¨"),a("code",[t._v("node")]),t._v("ç¯å¢ƒä¸­å¤šè¿è¡Œå‡ æ¬¡ï¼Œå°±ä¼šå‘ç°è¾“å‡ºé¡ºåºæ˜¯ä¸å›ºå®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´è™½ç„¶ä¸Šå›¾ä¸­"),a("code",[t._v("timers")]),t._v("é˜Ÿåˆ—åœ¨"),a("code",[t._v("check")]),t._v("é˜Ÿåˆ—å‰é¢ï¼Œä½†æ˜¯"),a("code",[t._v("setTimeout")]),t._v("å’Œ"),a("code",[t._v("setImmediate")]),t._v("æ²¡æœ‰æ˜ç¡®çš„å…ˆåé¡ºåºçš„ï¼Œè¿™æ˜¯ç”±"),a("code",[t._v("node")]),t._v("çš„å‡†å¤‡æ—¶é—´ï¼ˆå‡†å¤‡å·¥ä½œä¼šæµªè´¹ä¸€å®šçš„æ—¶é—´ï¼‰å¯¼è‡´çš„ã€‚")])]),t._v(" "),a("p",[t._v("å¯¹åº”ä¸Šé¢è¿™é“ç»ƒä¹ é¢˜ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹é¢è¿™é“é¢˜ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./1.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setImmediate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("è¿™é“é¢˜çš„è¾“å‡ºé¡ºåºæ˜¯"),a("code",[t._v("setImmediate")]),t._v("ç„¶å"),a("code",[t._v("setTimeout")]),t._v("ï¼Œæ— è®ºä½ è¿è¡Œå¤šå°‘æ¬¡ï¼Œç»“æœé¡ºåºä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚è¿™æ˜¯å› ä¸º"),a("code",[t._v("fs")]),t._v("æ–‡ä»¶æ“ä½œï¼ˆI/Oæ“ä½œï¼‰å±äºå±äº"),a("code",[t._v("poll")]),t._v("é˜¶æ®µï¼Œ"),a("code",[t._v("poll")]),t._v("é˜¶æ®µçš„ä¸‹ä¸€é˜¶æ®µå°±æ˜¯"),a("code",[t._v("check")]),t._v("é˜¶æ®µï¼Œæ‰€ä»¥è¾“å‡ºé¡ºåºæ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚")])]),t._v(" "),a("p",[t._v("æœ€åï¼Œè®©æˆ‘ä»¬æ¥å†çœ‹ä¸€é“é¢è¯•é¢˜åŠ æ·±å¯¹Nodeäº‹ä»¶ç¯çš„ç†è§£ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setImmediate1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nPromise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'then'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextTick")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nextTick'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setTimeout2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setImmediate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setImmediate2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("è¿™é“é¢˜çš„è¾“å‡ºé¡ºåºæ˜¯ï¼š"),a("code",[t._v("thenã€setTimeout2ã€nextTickã€setImmediate1ã€setImmediate2ã€setTimeout1")]),t._v("ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„é¡ºåºå‘¢ï¼Ÿå¾®ä»»åŠ¡"),a("code",[t._v("nextTick")]),t._v("çš„è¾“å‡ºæ˜¯å› ä¸º"),a("code",[t._v("timers")]),t._v("é˜Ÿåˆ—åˆ‡æ¢åˆ°"),a("code",[t._v("check")]),t._v("é˜Ÿåˆ—ï¼Œ"),a("code",[t._v("setImmediate1")]),t._v("å’Œ"),a("code",[t._v("setImmediate2")]),t._v("è¿ç»­è¾“å‡ºæ˜¯å› åªæœ‰å½“å‰é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•åæ‰èƒ½è¿›å»ä¸‹ä¸€å¯¹åˆ—ã€‚")])]),t._v(" "),a("p",[t._v("æ€»ç»“ï¼šä»Šå¤©çš„è¯é¢˜å°±å…ˆåˆ°è¿™é‡Œäº†ã€‚å¯èƒ½æœ¬æ–‡æœ‰è¡¨è¿°ä¸æ¸…æ¥šæˆ–è€…ç†è§£ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·å„ä½å¤§ä½¬ç»™äºˆæŒ‡æ­£ï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›æ¯å‘¨åˆ†äº«ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼å¦‚æœæ‚¨è§‰å¾—çœ‹äº†è¿™ç¯‡æ–‡ç« æœ‰æ‰€æ”¶è·ï¼Œè¯·ä¸è¦å¿˜äº†åŠ¨åŠ¨æ‰‹æŒ‡ç‚¹ä¸ªå°â¤ï¸å“¦ï¼è®©æˆ‘ä»¬ä¸€èµ·è¡èµ·åŒæ¡¨ï¼Œæ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œåœ¨æŠ€æœ¯çš„é“è·¯ä¸Šè¶Šèµ°è¶Šè¿œï¼\n"),a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/5/16505b27e9e0d02b?w=240&h=240&f=jpeg&s=68812",alt:""}})]),t._v(" "),a("blockquote",[a("p",[t._v("åŸåˆ›ä¸æ˜“ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼è°¢è°¢ï¼")])])])}),[],!1,null,null,null);s.default=e.exports}}]);